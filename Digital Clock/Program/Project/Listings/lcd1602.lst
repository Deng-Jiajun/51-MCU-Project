C51 COMPILER V9.60.0.0   LCD1602                                                           03/25/2022 17:21:47 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE LCD1602
OBJECT MODULE PLACED IN .\Objects\lcd1602.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\Source\lcd1602.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\
                    -Listings\lcd1602.lst) TABS(2) OBJECT(.\Objects\lcd1602.obj)

line level    source

   1          #include <reg51.h>
   2          #include "lcd1602.h"
   3          
   4          /********************************************************************
   5           * ÂêçÁß∞ : LCD1602_Delay()
   6           * ÂäüËÉΩ : 1602Âª∂Êó∂ÂáΩÊï∞
   7           * ËæìÂÖ• : Êó†
   8           * ËæìÂá∫ : Êó†
   9           ***********************************************************************/
  10          void LCD1602_Delay()
  11          {
  12   1         int i, j;
  13   1         for (i = 0; i <= 10; i++)
  14   1            for (j = 0; j <= 20; j++)
  15   1               ;
  16   1      }
  17          
  18          /********************************************************************
  19           * ÂêçÁß∞ : Write_CMD(unsigned char del)
  20           * ÂäüËÉΩ : 1602ÂëΩ‰ª§ÂáΩÊï∞
  21           * ËæìÂÖ• : ËæìÂÖ•ÁöÑÂëΩ‰ª§ÂÄº
  22           * ËæìÂá∫ : Êó†
  23           ***********************************************************************/
  24          
  25          void Write_CMD(unsigned char del) // ÂÜôÊåá‰ª§   ËæìÂÖ•ÔºöRS=LÔºõRW=LÔºõ
  26          {                                 // D0~D7= Êåá‰ª§Á†ÅÔºåE=È´òËÑâÂÜ≤Ôºõ
  27   1         LCD_PORT = del;                // ËæìÂá∫ÔºöD0~D7=Êï∞ÊçÆ
  28   1         RS = 0;
  29   1         RW = 0;
  30   1         E = 0;
  31   1         LCD1602_Delay();
  32   1         E = 1;
  33   1         LCD1602_Delay();
  34   1      }
  35          
  36          /********************************************************************
  37           * ÂêçÁß∞ : Write_DAT(unsigned char del)
  38           * ÂäüËÉΩ : 1602ÂÜôÊï∞ÊçÆÂáΩÊï∞
  39           * ËæìÂÖ• : ÈúÄË¶ÅÂÜôÂÖ•1602ÁöÑÊï∞ÊçÆ
  40           * ËæìÂá∫ : Êó†
  41           ***********************************************************************/
  42          
  43          void Write_DAT(unsigned char del) // ÂÜôÊï∞ÊçÆ  ËæìÂÖ•ÔºöRS=HÔºõRW=LÔºõ
  44          {
  45   1         LCD_PORT = del; // D0~D7=Êï∞ÊçÆÔºõE=È´òËÑâÂÜ≤
  46   1         RS = 1;
  47   1         RW = 0; //ËæìÂá∫ÔºöÊó†
  48   1         E = 0;
  49   1         LCD1602_Delay();
  50   1         E = 1;
  51   1         LCD1602_Delay();
  52   1      }
  53          
  54          /********************************************************************
C51 COMPILER V9.60.0.0   LCD1602                                                           03/25/2022 17:21:47 PAGE 2   

  55           * ÂêçÁß∞ : LCD1602_init()
  56           * ÂäüËÉΩ : 1602ÂàùÂßãÂåñÔºåËØ∑ÂèÇËÄÉ1602ÁöÑËµÑÊñô
  57           * ËæìÂÖ• : Êó†
  58           * ËæìÂá∫ : Êó†
  59           ***********************************************************************/
  60          void LCD1602_Init(void)
  61          {
  62   1         Write_CMD(0x38); // ÊòæÁ§∫Ê®°ÂºèËÆæÁΩÆ ÔºåËÆæÁΩÆ16*2ÊòæÁ§∫Ôºå5*7ÁÇπÈòµÔºå8‰ΩçÊï∞ÊçÆÊé•Âè£
  63   1         Write_CMD(0x01); // ÊòæÁ§∫Ê∏Ö0
  64   1         Write_CMD(0x06); // ÊòæÁ§∫ÂÖâÊ†áÁßªÂä®ËÆæÁΩÆ
  65   1         Write_CMD(0x0c); // ÊòæÁ§∫ÂºÄÂÖ≥„ÄÅÂÖâÊ†áÁöÑËÆæÁΩÆ
  66   1      }
  67          
  68          /********************************************************************
  69          * ÂêçÁß∞ : LCD1602_char(unsigned char hang,unsigned char lie,char sign)
  70          * ÂäüËÉΩ : ÊîπÂèòÊ∂≤Êô∂‰∏≠Êüê‰ΩçÁöÑÂÄºÔºåÂ¶ÇÊûúË¶ÅËÆ©Á¨¨0Ë°åÔºåÁ¨¨5‰∏™Â≠óÁ¨¶ÊòæÁ§∫"b" ÔºåË∞ÉÁî®ËØ•ÂáΩÊï∞Â¶
             -Ç‰∏ã
  71             LCD1602_char(0,5,'b')
  72          * ËæìÂÖ• : Ë°åÔºåÂàóÔºåÈúÄË¶ÅËæìÂÖ•1602ÁöÑÊï∞ÊçÆ
  73          * ËæìÂá∫ : Êó†
  74          ***********************************************************************/
  75          void LCD1602_char(unsigned char hang, unsigned char lie, char dat)
  76          {
  77   1         unsigned char a;
  78   1         if (hang == 0)
  79   1            a = 0x80;
  80   1         if (hang == 1)
  81   1            a = 0xc0;
  82   1         a = a + lie;
  83   1         Write_CMD(a);   // Ë∞ÉÁî®ÂÜôÊåá‰ª§ÂáΩÊï∞
  84   1         Write_DAT(dat); // Ë∞ÉÁî®ÂÜôÊï∞ÊçÆÂáΩÊï∞
  85   1      }
  86          
  87          /********************************************************************
  88          * ÂêçÁß∞ : LCD1602_string(unsigned char hang,unsigned char lie,unsigned char *p)
  89          * ÂäüËÉΩ : ÊîπÂèòÊ∂≤Êô∂‰∏≠Êüê‰ΩçÁöÑÂÄºÔºåÂ¶ÇÊûúË¶ÅËÆ©Á¨¨‰∏ÄË°åÔºåÁ¨¨‰∫î‰∏™Â≠óÁ¨¶ÂºÄÂßãÊòæÁ§∫"ab cd ef" Ôºå
             -Ë∞ÉÁî®ËØ•ÂáΩÊï∞Â¶Ç‰∏ã
  90              LCD1602_string(1,5,"ab cd ef;")
  91          * ËæìÂÖ• : Ë°åÔºåÂàóÔºåÈúÄË¶ÅËæìÂÖ•1602ÁöÑÊï∞ÊçÆ
  92          * ËæìÂá∫ : Êó†
  93          ***********************************************************************/
  94          void LCD1602_string(unsigned char hang, unsigned char lie, unsigned char *p)
  95          {
  96   1         unsigned char a;
  97   1         if (hang == 0)
  98   1            a = 0x80; // 0x80‰ª£Ë°®Á¨¨‰∏ÄË°åÁ¨¨‰∏Ä‰∏™Â≠ó
  99   1         if (hang == 1)
 100   1            a = 0xc0; // ‰ª£Ë°®Á¨¨‰∫åË°åÁöÑÁ¨¨‰∫î‰∏™Â≠ó
 101   1         a = a + lie;
 102   1         Write_CMD(a);
 103   1         while (1)
 104   1         {
 105   2            if (*p == '\0')
 106   2               break;
 107   2            Write_DAT(*p);
 108   2            p++;
 109   2         }
 110   1      }
 111          /********************************************************************
 112          * ÂêçÁß∞ : LCD1602_num(unsigned char hang,unsigned char lie,unsigned int dat)
 113          * ÂäüËÉΩ : Â¶ÇÊûúË¶ÅËÆ©Á¨¨‰∏ÄË°åÔºåÁ¨¨‰∫î‰∏™Â≠óÁ¨¶ÊòæÁ§∫Êï¥Êï∞99 ÔºåË∞ÉÁî®ËØ•ÂáΩÊï∞Â¶Ç‰∏ã
 114             LCD1602_2num(1,5,99)
C51 COMPILER V9.60.0.0   LCD1602                                                           03/25/2022 17:21:47 PAGE 3   

 115          * ËæìÂÖ• : Ë°åÔºåÂàóÔºåÈúÄË¶ÅËæìÂÖ•1602ÁöÑÊï∞ÊçÆ
 116          * ËæìÂá∫ : Êó†
 117          ***********************************************************************/
 118          void LCD1602_2num(unsigned char hang, unsigned char lie, unsigned int dat)
 119          {
 120   1         LCD1602_char(hang, lie, dat / 10 % 10 + '0');
 121   1         LCD1602_char(hang, lie + 1, dat % 10 + '0');
 122   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    229    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
